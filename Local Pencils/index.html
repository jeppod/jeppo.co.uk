<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Local Sharpener</title>
    <style>
      body {
        background-color: beige;
      }
      span {
        color: blue;
      }
      .sectionLeft {
        float: left;
        width: 80%;
      }
      .sectionRight {
        float: right;
        width: 20%;
      }
      .scoreContainer {
        background-color: burlywood;
        width: 50%;
        padding: 10px;
        border-radius: 7px;
        font-size: 22px;
        font-weight: bold;
      }

      .options {
        background-color: brown;
        float: left;
        width: "25%";
        position: relative;
        border: 5%;
        border-color: beige;
      }

      .clickerContainer img {
        position: relative;
        transition: all 0.3s ease-in-out;
      }

      .clickerContainer img:hover {
        transform: scale(1.3);
      }

      .clickerContainer img:active {
        transform: scale(0.99);
      }

      .shopButton {
        background-color: brown;
        transition: all 0.2s ease-in-out;
        border-radius: 10px;
        width: 75%;
        margin: 2px 0px 10px 0px;
        height: 90px;
      }

      .shopButton:hover {
        background-color: bisque;
        transition: all 0.3s ease-in-out;
      }

      .shopButton #image {
        width: 25%;
      }

      .shopButton img {
        height: 64px;
        width: 64px;
      }

      .shopButton #NameAndCost p {
        margin: 0px;
        width: 60px;

      }

      .shopButton #NameAndCost p:first-of-type {
        font-size: 24px;
      }

      .shopButton #amount {
        font-size: 48px;
        color: bisque;
        font-family: roboto;
        width: 15%;
      }

      .unselectable {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      #upgradeContainer img {
        height:64px;
        width:64px;
      }

      .sectionFooter {
        margin-top 20%;
      }

      .special {
        position: relative;
        right: 300px;
      }

    </style>
  </head>
  <body>
    <div class="sectionLeft">
      <centre>
        <div class="scoreContainer">
          <h1>Local Sharpeners</h1>
          <h3>Made by Jeppo!</h3>
          <span id="Sharpeners">0</span> Sharpeners<br />
          <span id="SPS">0</span> sharpeners per second!"<br />
          <span id="cps">0</span>clicks per second!<br />
        </div>
        <br />
        <div class="clickerContainer">
          <button
            alt="Click here!"
            height="225"
            width="225"
            onclick="ScorePlus(clickingPower)">Click me.
          </button  >
          
        </div>
      </centre>

      <div class="sectionFooter">
        <h5 class="">Pencil Sharpener</h5>
        <table class ="unselectable options " onclick="resetGame()">
        <tr>
          <td id="NameAndCost" width="15px" height="15px" >
            <p>Reset game.</p>
          </td>
        </tr>
        </table>
      </div>
    </div>
      <table class="specialbox">
        <button class="special" width="64px" height="64px" onclick="doublehands()">Double Hands - <span id="doublehandsprice">750</span></button>
        <button class="special" width="64px" height="64px" onclick="doubleClicking()">Double Hands - <span id="doubleclickerprice">1250</span></button>
        <button class="special" width="64px" height="64px" onclick="doubleworkers()">Double Workers - <span id="doubleworkersprice">7500</span></button>
        <button class="special" width="64px" height="64px" onclick="doublefactories()">Double Factories -  <span id="doublefactoriesprice">75000</span></button>
      </table>
      
      <div class="sectionRight">
      <button class="shopButton unselectable" onclick="BuyHand()">
        <tr>
          <td id="NameAndCost">
            <p>Hands</p>
            <p><span id="HandCost">100</span> sharpeners</p>
          </td>
          <td id="amount"><span id="Hands">0</span></td>
        </tr>
      </button>
      <button class="shopButton unselectable" onclick="BuyWorker()">
        <tr>
          <td id="NameAndCost">
            <p>Workers</p>
            <p><span id="WorkerCost">1000</span> sharpeners</p>
          </td>
          <td id="amount"><span id="Workers">0</span></td>
          <tr>
          </button>
          <button class="shopButton unselectable" onclick="BuyFactory()">
              </td>
              <td id="NameAndCost">
                <p>Factories</p>
                <p><span id="FactoryCost">10000</span> sharpeners</p>
              </td>
              <td id="amount"><span id="Factories">0</span></td>
            </button>
            <button class="shopButton unselectable" onclick="BuyBusiness()">
            </td>
            <td id="NameAndCost">
              <p>Businesses</p>
              <p><span id="BusinessCost">100000</span> sharpeners</p>
            </td>
            <td id="amount"><span id="Factories">0</span></td>
          </button>
        </tr>
      </table>
    </div>
    <script>
      var Sharpeners = 5000000;
      var name = "Sharpeners";
      
      var clickingPower = 1;
      var doublehandsprice = 750;
      var SPS = 0;

      var HandCost = 100;
      var Hands = 0;

      var WorkerCost = 1000;
      var Workers = 0;

      var FactoryCost = 10000;
      var Factories = 0;

      var HandPower = 1;
      var WorkerPower = 1;
      var FactoryPower = 1;
      var BusinessPower = 1;

      var doublehands3 = 0;

      var BusinessCost = 100000;
      var Businesses = 0;

    
      var doubleclickerprice = 1250;

      var doubleworkers = 0;
      var doubleworkersprice = 7500;
      var doubleworkers3 = 0;

      var doublefactories = 0;
      var doublefactoriesprice = 75000;

      function clickingPowerWork() {
        if (SPS >= 10) {
          clickingPower = SPS / 10
        }
        else {
          clickingPower = 1
        }
      }
      
      function doubleClicking() {
          if (Sharpeners >= doubleclickerprice) {
            Sharpeners = Sharpeners - doubleclickerprice;
            clickingPower = clickingPower * 2;
            doubleclickerprice == doubleclickerprice * 5;
            doubleclicking3 = doubleclicking3 + 3;
            document.getElementById("Sharpeners").innerHTML = Sharpeners;
            document.getElementById("doubleclickerprice").innerHTML = doublehandsprice;
            document.getElementById("clickingPower").innerHTML = HandPower;
          }
      }

      function doublehands() {
          if (Sharpeners >= doublehandsprice) {
            Sharpeners = Sharpeners - doublehandsprice;
            HandPower = HandPower * 2;
            doublehandsprice = doublehandsprice * 5;
            doublehands3 = doublehands3 + 1;
            document.getElementById("Sharpeners").innerHTML = Sharpeners;
            document.getElementById("doublehandsprice").innerHTML = doublehandsprice;
            document.getElementById("HandPower").innerHTML = HandPower;
          }
      }

      function doublefactories() {
          if (Sharpeners >= doublefactoriesprice) {
            Sharpeners = Sharpeners - doublefactoriesprice;
            FactoryPower = FactoryPower * 5;
            doublefactoriesprice = doublefactoriesprice * 5;
            doublefactories3 = doublefactories3 + 1;
            document.getElementById("Sharpeners").innerHTML = Sharpeners;
            document.getElementById("doublefactoriesprice").innerHTML = doublefactoriesprice;
            document.getElementById("FactoryPower").innerHTML = FactoryPower;
          }
      }
      

      function doubleworkers() {
          if (Sharpeners >= doubleworkersprice) {
            Sharpeners = Sharpeners - doubleworkersprice;
            WorkerPower = WorkerPower * 2;
            doubleworkersprice = doubleworkersprice * 5;
            doubleworkers3 = doubleworkers3 + 1;
            document.getElementById("Sharpeners").innerHTML = Sharpeners;
            document.getElementById("doubleworkersprice").innerHTML = doubleworkersprice;
            document.getElementById("WorkerPower").innerHTML = WorkerPower;
          }
      }
      
      
      function BuyHand() {
        if (Sharpeners >= HandCost) {
          Sharpeners = Sharpeners - HandCost;
          Hands = Hands + 1;
          HandCost = Math.round(HandCost * 1.11);

          document.getElementById("Sharpeners").innerHTML = Sharpeners;
          document.getElementById("HandCost").innerHTML = HandCost;
          document.getElementById("Hands").innerHTML = Hands;
          updateSPS();
        }
      }
      function BuyWorker() {
        if (Sharpeners >= WorkerCost) {
          Sharpeners = Sharpeners - WorkerCost;
          Workers = Workers + 1;
          WorkerCost = Math.round(WorkerCost * 1.11);

          document.getElementById("Sharpeners").innerHTML = Sharpeners;
          document.getElementById("WorkerCost").innerHTML = WorkerCost;
          document.getElementById("Workers").innerHTML = Workers;
          updateSPS();
        }
      }

      function BuyFactory() {
        if (Sharpeners >= FactoryCost) {
            Sharpeners = Sharpeners - FactoryCost
            Factories = Factories + 1
            FactoryCost = Math.round(FactoryCost * 1.11);

            document.getElementById("Sharpeners").innerHTML = Sharpeners;
          document.getElementById("FactoryCost").innerHTML = FactoryCost;
          document.getElementById("Factories").innerHTML = Factories;
          updateSPS(); 
        }
      }

      function BuyBusiness() {
        if (Sharpeners >= BusinessCost) {
            Sharpeners = Sharpeners - BusinessCost
            Businesses = Businesses + 1
            BusinessCost = Math.round(FactoryCost * 1.11);

            document.getElementById("Sharpeners").innerHTML = Sharpeners;
          document.getElementById("BusinessCost").innerHTML = BusinessCost;
          document.getElementById("Businesses").innerHTML = Businesses;
          updateSPS(); 
        }
      }

      function ScorePlus(amount) {
        Sharpeners = Sharpeners + clickingPower;
        document.getElementById("Sharpeners").innerHTML = Sharpeners;
        updatecps();
      }

      function updateSPS() {
        SPS = Hands * HandPower + Workers * 10 * WorkerPower + Factories * 100 * FactoryPower + Businesses * 1000 * BusinessPower;
        document.getElementById("Sharpeners").innerHTML = Sharpeners;
        document.getElementById("SPS").innerHTML = SPS;
      }
      

      function saveGame() {
        var gameSave = {
          Sharpeners: Sharpeners,
          clickingPower: clickingPower,
          HandCost: HandCost,
          Hands: Hands,
          WorkerCost: WorkerCost,
          Workers: Workers,
          FactoryCost: FactoryCost,
          Factories: Factories,
          BusinessCost: BusinessCost,
          Businesses: Businesses,
          HandPower: HandPower,
          FactoryPower: FactoryPower,
          WorkerPower: WorkerPower,
          BusinessPower: BusinessPower,
          doublehands3: doublehands3,
          doubleclicking3: doubleclicking3,
          doubleworkers3: doubleworkers3,
          doublefactories3: doublefactories3,


        };
        localStorage.setItem("gameSave", JSON.stringify(gameSave));
      }

      

      function loadGame() {
        var savedGame = JSON.parse(localStorage.getItem("gameSave"));
        if (typeof savedGame.Sharpeners !== "undefined") Sharpeners = savedGame.Sharpeners
        if (typeof savedGame.clickingPower !== "undefined") clickingPower = savedGame.clickingPower
        if (typeof savedGame.HandCost !== "undefined")  HandCost = savedGame.HandCost
        if (typeof savedGame.Hands!== "undefined") Hands = savedGame.Hands
        if (typeof savedGame.WorkerCost !== "undefined") WorkerCost = savedGame.WorkerCost
        if (typeof savedGame.Workers !== "undefined") Workers = savedGame.Workers
        if (typeof savedGame.FactoryCost !== "undefined") FactoryCost = savedGame.FactoryCost
        if (typeof savedGame.Factories !== "undefined") Factories = savedgame.Factories
        if (typeof savedGame.BusinessCost !== "undefined") BusinessCost = savedGame.BusinessCost
        if (typeof savedGame.BusinessPower !== "undefined") FactoryCost = savedGame.BusinessPower
        if (typeof savedGame.Businesses !== "undefined") Factories = savedgame.Businesses
        if (typeof savedGame.HandPower !== "undefined") HandPower = savedGame.HandPower
        if (typeof savedGame.WorkerPower !== "undefined") FactoryCost = savedGame.WorkerPower
        if (typeof savedGame.FactoryPower !== "undefined") Factories = savedgame.FactoryPower
        if (typeof savedGame.doublehands3 !== "undefined") doublehands3 = savedgame.doublehands3
        if (typeof savedGame.doubleclicking3 !== "undefined") doubleclicking3 = savedgame.doubleclicking3
        if (typeof savedGame.doubleworkers3 !== "undefined") doubleworkers3 = savedgame.doubleworkers3
        if (typeof savedGame.doublefactories3 !== "undefined") doublefactories3 = savedgame.doublefactories3
      }

      function resetGame() {
                if(confirm("Are you sure you want to reset your game?")) {
                    var gameSave = {};
                    localStorage.setItem("gameSave", JSON.stringify(gameSave));
                    location.reload();
                }
            }

      window.onload = function() {
        loadGame();
        updateSPS();
      };
      
      setInterval(function () {
        Sharpeners = Sharpeners + Hands * HandPower;
        Sharpeners = Sharpeners + Workers * 10 * WorkerPower;
        Sharpeners = Sharpeners + Factories * 100 * FactoryPower;
        document.getElementById("Sharpeners").innerHTML = Sharpeners;

        document.title = SPS + " per second - Local Sharpeners";
      }, 1000 ); // 1000ms = 1 second

      setInterval(function() {
        saveGame();
      }, 6000 );

      document.addEventListener("keydown", function(event) {
          if (event.ctrlKey && event.which == 83) { // ctrl + s
            event.preventDefault();
            saveGame();
          }
      }, false) ;
  </script>
  </body>
</html>